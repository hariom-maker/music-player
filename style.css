:root{
  --bg-1:#071025; --bg-2:#0b1730; --card:#0f2236; --muted:#8fa3bf;
  --accent:#1db954; --glass: rgba(255,255,255,0.03);
  --light-bg:#f5f7fb; --light-card:#ffffff; --text-dark:#0b1220;
}

*{box-sizing:border-box}
html,body{height:100%; margin:0; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; -webkit-font-smoothing:antialiased}

body.dark{ background: linear-gradient(180deg,var(--bg-1),var(--bg-2)); color:#e6eef8 }
body.light{ background: var(--light-bg); color:var(--text-dark) }

.app{ max-width:1100px; margin:28px auto; padding:18px; }

header{ display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px}
.brand{ display:flex; gap:12px; align-items:center }
.brand h1{ margin:0; font-size:1.15rem; letter-spacing:0.2px }
.mini-cover{ width:44px; height:44px; border-radius:8px; object-fit:cover; background:rgba(255,255,255,0.04) }

.btn{ background:transparent; border:1px solid rgba(255,255,255,0.06); padding:8px 12px; border-radius:8px; color:inherit; cursor:pointer }
.btn:hover{ transform:translateY(-2px) }

main{ display:grid; grid-template-columns: 1fr 340px; gap:18px }

.left{ display:flex; flex-direction:column; gap:12px }
.right{ background:var(--card); border-radius:12px; padding:12px; min-height:420px; box-shadow: 0 8px 30px rgba(2,6,23,0.5) }

.player-card{ display:flex; gap:14px; background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); padding:14px; border-radius:12px; align-items:center; backdrop-filter: blur(6px) }
.cover{ width:140px; height:140px; border-radius:10px; object-fit:cover; box-shadow: 0 8px 30px rgba(2,6,23,0.6) }

.meta{ flex:1; display:flex; flex-direction:column; gap:10px }
.title{ font-weight:700; font-size:1.05rem }
.artist{ color:var(--muted); font-size:0.92rem }

.time-row{ display:flex; justify-content:space-between; font-size:0.85rem; color:var(--muted) }

.progress-wrap{ height:10px; background:rgba(255,255,255,0.04); border-radius:999px; overflow:hidden; cursor:pointer; transition:box-shadow .18s }
.progress{ height:100%; width:0%; background:linear-gradient(90deg,var(--accent), #2cc76f); box-shadow: 0 8px 24px rgba(29,185,84,0.06) }

.buttons{ display:flex; gap:8px; align-items:center; justify-content:center; margin-top:4px }
.icon{ border:0; background:var(--glass); color:inherit; padding:10px; border-radius:10px; cursor:pointer; min-width:44px; box-shadow: 0 6px 18px rgba(2,6,23,0.6) }
.icon.big{ width:64px; height:64px; font-size:20px; border-radius:16px; background:linear-gradient(90deg,var(--accent), #2cc76f); color:#00110a }
.icon.sm{ min-width:44px }

.bottom{ display:flex; justify-content:space-between; align-items:center; margin-top:8px }

.small{ border-radius:8px; padding:6px 8px; background:rgba(255,255,255,0.02); border:0; cursor:pointer }

.volume{ display:flex; gap:8px; align-items:center }
.volume input{ width:120px }

.dropzone{ border:2px dashed rgba(255,255,255,0.03); padding:16px; border-radius:10px; text-align:center; color:var(--muted); transition:background .12s }
.dropzone.dragover{ background: rgba(255,255,255,0.02) }

/* visualizer */
.visualizer-wrap{ position:relative; height:220px; border-radius:12px; overflow:hidden; background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); display:flex; align-items:center; justify-content:center }
.visualizer-wrap canvas{ width:100%; height:100%; display:block }
.blur-bg{ position:absolute; inset:0; filter: blur(24px) saturate(120%); opacity:0.18; pointer-events:none }

/* playlist */
.search-wrap{ margin-bottom:10px }
.search-wrap input{ width:100%; padding:10px; border-radius:8px; border:0; background:rgba(255,255,255,0.03); color:inherit }
.playlist{ list-style:none; margin:0; padding:0; max-height:480px; overflow:auto }
.playlist li{ display:flex; gap:10px; align-items:center; padding:8px; border-radius:8px; cursor:pointer }
.playlist li:hover{ background:rgba(255,255,255,0.02) }
.playlist img{ width:48px; height:48px; border-radius:6px; object-fit:cover; }
.track-meta{ display:flex; flex-direction:column }
.track-title{ font-size:0.95rem }
.track-artist{ color:var(--muted); font-size:0.82rem }

.playlist li.active{ background: linear-gradient(90deg, rgba(29,185,84,0.14), rgba(29,185,84,0.06)); transform:translateX(4px) }

/* theme - light */
body.light .right, body.light .player-card { background:var(--light-card); color:var(--text-dark); box-shadow:none }
body.light .dropzone{ border-color:rgba(0,0,0,0.06); color:rgba(0,0,0,0.6) }
body.light .search-wrap input{ background:#f1f5f9; color:var(--text-dark) }

/* theme toggle */
.theme-toggle{ position:relative; display:inline-block; width:46px; height:26px }
.theme-toggle input{ display:none }
.theme-toggle .slider{ position:absolute; inset:0; background:rgba(255,255,255,0.06); border-radius:99px; cursor:pointer }
.theme-toggle .slider:after{ content:""; position:absolute; top:3px; left:3px; width:20px; height:20px; background:#fff; border-radius:50%; transition:transform .18s }
.theme-toggle input:checked + .slider{ background: linear-gradient(90deg,#f59e0b,#ef4444) }
.theme-toggle input:checked + .slider:after{ transform:translateX(20px) }

/* responsive */
@media (max-width:900px){
  main{ grid-template-columns: 1fr }
  .right{ order:2 }
  .left{ order:1 }
  .cover{ width:120px; height:120px }
  .visualizer-wrap{ height:160px }
}
